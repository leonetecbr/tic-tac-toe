(()=>{var e,o={807:()=>{var e,o=!0,t=0,n=!1,r=null,a='<i class="bi bi-x-lg"></i>',i='<i class="bi bi-circle"></i>',c=$("#create-room"),s=$("#join-room"),l=$(".item");function d(){for(var e=0,o=[],t=0;t<l.length;t++){var i=l[t].innerHTML;""!==i&&(e++,o[t+1]=i===a)}if("boolean"==typeof o[3]&&(o[1]===o[3]&&o[2]===o[3]||o[6]===o[3]&&o[9]===o[3])?(n=!0,r=o[3]):"boolean"==typeof o[7]&&(o[1]===o[7]&&o[4]===o[7]||o[8]===o[7]&&o[9]===o[7])?(n=!0,r=o[7]):"boolean"==typeof o[5]&&(o[1]===o[5]&&o[9]===o[5]||o[3]===o[5]&&o[7]===o[5]||o[2]===o[5]&&o[8]===o[5]||o[4]===o[5]&&o[6]===o[5])?(n=!0,r=o[5]):9===e&&(n=!0),n){var c=$("#result");$("#xo-vez").hide(),c.removeClass("d-none"),$("#link-game").addClass("d-none"),$("#try-again").removeClass("d-none"),null===r?(c.html("Empate!"),c.css({color:"#ff8c00"})):r===be?(c.html("Vitória!"),c.css({color:"#080"})):(c.html("Derrota!"),c.css({color:"#f33"}))}}function u(e){n||$.ajax({url:"moveBoard",dataType:"json",data:{room_key,position:e,per:be},type:"POST"}).done((function(e){e.success?h():n||v(e.message),t=0,$("#network-error").addClass("d-none")})).fail((function(){if(++t<5)$("#network-error").removeClass("d-none"),setTimeout((function(){return u(e)}),2e3);else{var o=$("#network-error");$("#game").hide(),o.show().removeClass("alert-warning").addClass("alert-danger"),$("#network-error-text").html("Parece que você está sem internet!")}}))}function m(){n||$.ajax({url:"waitOpponent",data:{room_key},dataType:"json",type:"GET"}).done((function(e){e.success?e.connect?(o=e.dados.vez,function(e){o?$("#vez").html(a):$("#vez").html(i);for(var t=1;t<10;t++)null!==e[t]&&(1===e[t]?$("#item-"+t).html(a):$("#item-"+t).html(i))}(e.dados),h()):setTimeout((function(){return m()}),2e3):n||v(e.message),t=0,$("#network-error").addClass("d-none")})).fail((function(){++t<5?($("#network-error").removeClass("d-none"),setTimeout((function(){return m()}),2e3)):($("#loading").hide(),$("#network-error").show().removeClass("alert-warning").addClass("alert-danger"),$("#network-error-text").html("Parece que você está sem internet!"))}))}function f(t){var r=$("#item-"+t);""===r.html()?(r.html(e),(o=!o)?$("#vez").html(a):$("#vez").html(i),u(t),d(),n||m()):v("Casa já marcada!")}function v(e){$("#error-text").html(e),new bootstrap.Toast(document.getElementById("error-alert")).show()}function h(){$("#loading").hide(),$("#game").removeClass("d-none"),e=be?a:i,$("#bexoro").html(e),d(),n||o!==be&&setTimeout((function(){return m()}),2e3)}c.on("click",(function(e){e.preventDefault(),c.attr("disabled",!0),c.html("Verificando ...."),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;grecaptcha.ready((function(o){grecaptcha.execute("6LePcSEcAAAAAPGLHLV91ZMtH0Bkxkr47aiF4toJ",{action:"start_tictactoe"}).then((function(o){null===e?($("#token").val(o),$("#create-form").trigger("submit")):window.location.href=e+"&g-recaptcha-response="+o}))}))}()})),l.on("click",(function(){n?v("Essa partida já acabou!"):o===be?f($(this).attr("id").replace("item-","")):v("Aguarde sua vez!")})),$("#copy").on("click",(function(){var e=$("#copy-text");e.attr("disabled",!1),e.select(),document.execCommand("copy"),e.attr("disabled",!0),new bootstrap.Toast(document.getElementById("copy-alert")).show()})),s.on("click",(function(){return c.hide(),$("#join").removeClass("d-none"),$(".buttons").removeClass("justify-content-around").addClass("justify-content-center"),s.css({"background-color":"#ff4c4c"}).addClass("col-10"),void(window.location.href="#join")})),$("#code").on("change",(function(){return $("#icode").addClass("d-none")})),$("#btn-join").on("click",(function(){var e=$("#code").val();""===e?$("#icode").removeClass("d-none"):0===e.indexOf("https://leone.tec.br/games/tic-tac-toe/play")?window.location.href=e:42===e.length?window.location.href="play?room_key="+e:$("#icode").removeClass("d-none")}))},108:()=>{}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var a=t[e]={exports:{}};return o[e](a,a.exports,n),a.exports}n.m=o,e=[],n.O=(o,t,r,a)=>{if(!t){var i=1/0;for(d=0;d<e.length;d++){for(var[t,r,a]=e[d],c=!0,s=0;s<t.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](t[s])))?t.splice(s--,1):(c=!1,a<i&&(i=a));if(c){e.splice(d--,1);var l=r();void 0!==l&&(o=l)}}return o}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[t,r,a]},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={27:0,829:0};n.O.j=o=>0===e[o];var o=(o,t)=>{var r,a,[i,c,s]=t,l=0;if(i.some((o=>0!==e[o]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(s)var d=s(n)}for(o&&o(t);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},t=self.webpackChunktic_tac_toe=self.webpackChunktic_tac_toe||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})(),n.O(void 0,[829],(()=>n(807)));var r=n.O(void 0,[829],(()=>n(108)));r=n.O(r)})();
//# sourceMappingURL=index.min.js.map